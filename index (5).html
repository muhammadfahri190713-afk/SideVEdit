<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>SideVEdit</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg-yellow: #f5f0e1; 
            --dark-yellow: #e5dec5; 
            --accent-purple: #5e4bb6;
            --text-main: #3d3311;
        }

        body {
            margin: 0; background-color: var(--bg-yellow);
            font-family: 'Segoe UI', sans-serif; height: 100vh;
            display: flex; flex-direction: column; overflow: hidden; color: var(--text-main);
        }

        .fade-in { animation: fadeIn 0.3s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- HALAMAN UTAMA --- */
        #project-page { display: flex; flex-direction: column; height: 100%; padding: 15px; box-sizing: border-box; }
        .nav-tabs { display: flex; background: var(--dark-yellow); border-radius: 30px; padding: 5px; margin: 15px 0; }
        .nav-item { flex: 1; text-align: center; padding: 12px; border-radius: 25px; font-size: 14px; cursor: pointer; }
        .nav-item.active { background: white; color: var(--accent-purple); font-weight: bold; }

        .content-section { display: none; flex-grow: 1; overflow-y: auto; position: relative; }
        .content-section.active { display: block; }

        /* Project List */
        .project-card { background: var(--dark-yellow); padding: 18px; border-radius: 15px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
        #empty-state { position: absolute; top: 40%; left: 50%; transform: translate(-50%, -50%); font-weight: bold; color: #b5af9a; text-align: center; width: 100%; }

        /* --- EDITOR (GAYA GAMBAR 3) --- */
        #editor-page { display: none; flex-direction: column; height: 100%; background: var(--bg-yellow); }
        
        .editor-header { 
            display: flex; justify-content: space-between; align-items: center; padding: 15px; 
        }

        /* Bubble Chat untuk Nama Project */
        .project-bubble {
            background: white; padding: 8px 25px; border-radius: 25px;
            font-weight: bold; font-size: 18px; color: var(--text-main);
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }

        .editor-tabs { 
            display: flex; justify-content: space-around; padding: 10px; gap: 10px;
        }
        .tab-btn { 
            flex: 1; padding: 12px; text-align: center; background: var(--dark-yellow); 
            border-radius: 25px; font-weight: bold; font-size: 14px; cursor: pointer;
        }
        .tab-btn.active { background: var(--accent-purple); color: white; }

        .editor-container { flex-grow: 1; position: relative; margin: 15px; display: flex; }
        textarea { 
            flex-grow: 1; background: var(--dark-yellow); border-radius: 25px; 
            border: none; padding: 25px; font-family: 'Consolas', monospace; 
            font-size: 16px; outline: none; resize: none;
        }

        /* Tombol Play (Gambar 1 & 3) */
        .btn-play { 
            position: absolute; bottom: 20px; right: 20px; 
            background: var(--accent-purple); width: 70px; height: 70px; 
            border-radius: 25px; display: flex; justify-content: center; align-items: center; 
            color: white; font-size: 28px; cursor: pointer; z-index: 5;
        }

        /* --- MODAL NEW PROJECT (GAYA GAMBAR 2) --- */
        .modal-overlay { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.4); display: none; justify-content: center; align-items: center; z-index: 100; 
        }
        .modal-content { 
            background: #fffdf7; width: 85%; padding: 30px; border-radius: 35px; 
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        }
        .modal-content h3 { margin-top: 0; font-size: 22px; }
        .input-box {
            background: var(--dark-yellow); border-radius: 15px; padding: 5px 15px; margin: 20px 0;
        }
        .input-box input {
            width: 100%; padding: 15px 0; border: none; background: transparent; 
            outline: none; font-size: 16px; color: var(--text-main);
        }

        /* --- CALCULATOR & INFO --- */
        .calc-container { background: var(--dark-yellow); padding: 20px; border-radius: 25px; max-width: 320px; margin: 20px auto; }
        .calc-display { background: white; padding: 20px; text-align: right; font-size: 32px; border-radius: 15px; margin-bottom: 20px; height: 40px; color: var(--accent-purple); font-weight: bold; }
        .calc-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
        .calc-btn { background: white; padding: 20px; border-radius: 12px; text-align: center; font-weight: bold; cursor: pointer; }
        .btn-op { background: var(--accent-purple); color: white; }
        .info-card { background: var(--dark-yellow); padding: 30px; border-radius: 25px; margin: 20px; text-align: center; }

        .btn-add { position: fixed; bottom: 30px; right: 25px; background: var(--accent-purple); width: 65px; height: 65px; border-radius: 20px; display: flex; justify-content: center; align-items: center; font-size: 24px; color: white; cursor: pointer; }

        #preview-screen { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 200; flex-direction: column; }
        .preview-nav { background: #333; padding: 15px; display: flex; align-items: center; gap: 15px; color: white; }
        iframe { flex-grow: 1; border: none; }
    </style>
</head>
<body>

    <div id="project-page" class="fade-in">
        <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px;">
            <i class="far fa-lightbulb"></i> <b>SideVEdit</b> <i class="fas fa-ellipsis-v"></i>
        </div>

        <div class="nav-tabs">
            <div class="nav-item active" onclick="switchMainTab('projects', this)">Projects</div>
            <div class="nav-item" onclick="switchMainTab('calculator', this)">Calculator</div>
            <div class="nav-item" onclick="switchMainTab('info', this)">Info</div>
        </div>

        <div id="sec-projects" class="content-section active">
            <div class="project-list" id="list-container">
                <div id="empty-state">Create A Project</div>
            </div>
            <div class="btn-add" onclick="openModal()"><i class="fas fa-plus"></i></div>
        </div>

        <div id="sec-calculator" class="content-section">
            <div class="calc-container fade-in">
                <div class="calc-display" id="display">0</div>
                <div class="calc-grid">
                    <div class="calc-btn btn-op" onclick="clearCalc()">C</div>
                    <div class="calc-btn btn-op" onclick="press('/')">/</div>
                    <div class="calc-btn btn-op" onclick="press('*')">x</div>
                    <div class="calc-btn btn-op" onclick="backspace()">‚Üê</div>
                    <div class="calc-btn" onclick="press('7')">7</div>
                    <div class="calc-btn" onclick="press('8')">8</div>
                    <div class="calc-btn" onclick="press('9')">9</div>
                    <div class="calc-btn btn-op" onclick="press('-')">-</div>
                    <div class="calc-btn" onclick="press('4')">4</div>
                    <div class="calc-btn" onclick="press('5')">5</div>
                    <div class="calc-btn" onclick="press('6')">6</div>
                    <div class="calc-btn btn-op" onclick="press('+')">+</div>
                    <div class="calc-btn" onclick="press('1')">1</div>
                    <div class="calc-btn" onclick="press('2')">2</div>
                    <div class="calc-btn" onclick="press('3')">3</div>
                    <div class="calc-btn btn-op" style="grid-column: span 1;" onclick="calculate()">=</div>
                    <div class="calc-btn" onclick="press('0')" style="grid-column: span 2;">0</div>
                    <div class="calc-btn" onclick="press('.')">.</div>
                </div>
            </div>
        </div>

        <div id="sec-info" class="content-section">
            <div class="info-card fade-in">
                <h3 style="color:var(--accent-purple)">Made by Fahri</h3>
                <p>Information about app</p>
                <p><b>Version:</b> 1.2 Beta</p>
                <p><b>Function:</b> For fun and html easily to study! üå∏</p>
            </div>
        </div>
    </div>

    <div id="editor-page" class="fade-in">
        <div class="editor-header">
            <i class="fas fa-arrow-left" style="cursor:pointer; font-size: 20px;" onclick="backToProjects()"></i>
            <div class="project-bubble" id="editor-title">Project Name</div>
            <i class="fas fa-ellipsis-v" style="font-size: 20px;"></i>
        </div>

        <div class="editor-tabs">
            <div class="tab-btn active" id="tab-html" onclick="setTab('html')">HTML</div>
            <div class="tab-btn" id="tab-css" onclick="setTab('css')">CSS</div>
            <div class="tab-btn" id="tab-js" onclick="setTab('js')">JS</div>
        </div>

        <div class="editor-container">
            <textarea id="code-area" spellcheck="false"></textarea>
            <div class="btn-play" onclick="showResult()">
                <i class="fas fa-play"></i>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="modal">
        <div class="modal-content fade-in">
            <h3>New Project</h3>
            <div class="input-box">
                <input type="text" id="p-name" placeholder="Project name...">
            </div>
            <div style="display:flex; justify-content:flex-end; gap:30px; color:var(--accent-purple); font-weight:bold; cursor:pointer; font-size: 16px;">
                <span onclick="closeModal()">BACK</span>
                <span onclick="create()">CREATE</span>
            </div>
        </div>
    </div>

    <div id="preview-screen">
        <div class="preview-nav"><i class="fas fa-arrow-left" onclick="hideResult()"></i> Output</div>
        <iframe id="viewer"></iframe>
    </div>

    <script>
        let db = JSON.parse(localStorage.getItem('fahri_db_v2')) || {};
        let activeP = "";
        let activeT = "html";
        const editorArea = document.getElementById('code-area');

        function switchMainTab(section, btn) {
            document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById('sec-' + section).classList.add('active');
            btn.classList.add('active');
        }

        function render() {
            const list = document.getElementById('list-container');
            list.innerHTML = '<div id="empty-state">Create A Project</div>';
            const keys = Object.keys(db);
            document.getElementById('empty-state').style.display = keys.length ? 'none' : 'block';
            keys.forEach(k => {
                const div = document.createElement('div');
                div.className = 'project-card fade-in';
                div.innerHTML = `<span>${k}</span><i class="fas fa-trash" onclick="del('${k}', event)"></i>`;
                div.onclick = () => openEd(k);
                list.prepend(div);
            });
        }

        function create() {
            const n = document.getElementById('p-name').value.trim();
            if(!n) return;
            db[n] = { html: `<h1>${n}</h1>`, css: "", js: "" };
            localStorage.setItem('fahri_db_v2', JSON.stringify(db));
            render(); closeModal();
            document.getElementById('p-name').value = "";
        }

        function openEd(n) {
            activeP = n; activeT = "html";
            document.getElementById('project-page').style.display = 'none';
            document.getElementById('editor-page').style.display = 'flex';
            document.getElementById('editor-title').innerText = n;
            editorArea.value = db[n].html;
            updateTabs();
        }

        function setTab(t) {
            db[activeP][activeT] = editorArea.value;
            activeT = t;
            editorArea.value = db[activeP][t];
            updateTabs();
        }

        function updateTabs() {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('tab-' + activeT).classList.add('active');
        }

        function backToProjects() {
            if(activeP) { db[activeP][activeT] = editorArea.value; localStorage.setItem('fahri_db_v2', JSON.stringify(db)); }
            document.getElementById('editor-page').style.display = 'none';
            document.getElementById('project-page').style.display = 'flex';
            render();
        }

        function showResult() {
            db[activeP][activeT] = editorArea.value;
            const p = db[activeP];
            const code = `<html><style>${p.css}</style><body>${p.html}<script>${p.js}<\/script></body></html>`;
            document.getElementById('preview-screen').style.display = 'flex';
            const doc = document.getElementById('viewer').contentWindow.document;
            doc.open(); doc.write(code); doc.close();
        }

        function hideResult() { document.getElementById('preview-screen').style.display = 'none'; }
        function openModal() { document.getElementById('modal').style.display = 'flex'; }
        function closeModal() { document.getElementById('modal').style.display = 'none'; }
        function del(n, e) { e.stopPropagation(); if(confirm('Hapus?')) { delete db[n]; localStorage.setItem('fahri_db_v2', JSON.stringify(db)); render(); } }

        // Calculator Logic
        let cV = "";
        function press(v) { cV += v; document.getElementById('display').innerText = cV; }
        function clearCalc() { cV = ""; document.getElementById('display').innerText = "0"; }
        function backspace() { cV = cV.slice(0,-1); document.getElementById('display').innerText = cV || "0"; }
        function calculate() { try { cV = eval(cV).toString(); document.getElementById('display').innerText = cV; } catch { document.getElementById('display').innerText = "Error"; cV = ""; } }

        render();
    </script>
</body>
</html>
